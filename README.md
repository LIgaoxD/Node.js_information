##  **Node.js åŸºç¡€æ•™ç¨‹** çš„è¯¦ç»†è®²è§£ï¼ŒåŒ…æ‹¬æ›´è¯¦ç»†çš„ä»£ç ç¤ºä¾‹ã€è§£é‡Šå’ŒèƒŒæ™¯çŸ¥è¯†ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ Node.js çš„ä½¿ç”¨ã€‚

------

Insertï¼šè¿™é—¨è¯¾å½“æ—¶æ˜¯å”å°ç‡•è€å¸ˆæ•™çš„ï¼Œå­¦çš„ä¹Ÿå¾ˆè®¤çœŸï¼Œä¹Ÿå¾ˆæ„Ÿè°¢ï¼ï¼ï¼ğŸˆ

### **ä¸€ã€ä»€ä¹ˆæ˜¯ Node.js**

**Node.js** æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“æ„å»ºçš„ JavaScript è¿è¡Œæ—¶ç¯å¢ƒï¼Œæ„å‘³ç€ä½ å¯ä»¥ç”¨ JavaScript ç¼–å†™æœåŠ¡å™¨ç«¯çš„ä»£ç ã€‚ä¼ ç»Ÿä¸Šï¼ŒJavaScript ä»…ç”¨äºå‰ç«¯ï¼ˆæµè§ˆå™¨ç«¯ï¼‰ï¼Œä½† Node.js å°†å…¶æ‰©å±•åˆ°äº†æœåŠ¡å™¨ç«¯ï¼Œè®©ä½ å¯ä»¥ç”¨ JavaScript æ¥æ„å»º Web æœåŠ¡å™¨ã€æ•°æ®åº“æ“ä½œã€æ–‡ä»¶å¤„ç†ç­‰ã€‚

#### ä¸»è¦ç‰¹ç‚¹ï¼š

1. **äº‹ä»¶é©±åŠ¨**ï¼šNode.js ä½¿ç”¨äº‹ä»¶é©±åŠ¨æ¨¡å‹æ¥å¤„ç†å¤šä¸ªè¯·æ±‚ï¼Œä¸ä¼šå› æŸä¸€ä¸ªè¯·æ±‚çš„å¤„ç†è€Œé˜»å¡å…¶ä»–è¯·æ±‚ã€‚
2. **éé˜»å¡ I/O**ï¼šNode.js å†…éƒ¨çš„ I/O æ“ä½œï¼ˆå¦‚æ–‡ä»¶è¯»å†™ã€æ•°æ®åº“æŸ¥è¯¢ï¼‰æ˜¯å¼‚æ­¥çš„ï¼Œä¸ä¼šé˜»å¡æ‰§è¡Œçº¿ç¨‹ã€‚
3. **å•çº¿ç¨‹**ï¼šNode.js è¿è¡Œæ—¶æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†æ˜¯å®ƒé€šè¿‡äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰æœºåˆ¶æ¥å¤„ç†å¹¶å‘ä»»åŠ¡ã€‚

------

### **äºŒã€å®‰è£… Node.js**

é¦–å…ˆï¼Œç¡®ä¿ä½ å·²ç»å®‰è£…äº† Node.jsã€‚

1. è®¿é—® [Node.js å®˜ç½‘](https://nodejs.org/)ã€‚
2. ä¸‹è½½å¹¶å®‰è£…é€‚åˆä½ æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬ï¼ˆLTS ç‰ˆæœ¬æ¨èï¼‰ã€‚

å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ç»ˆç«¯æˆ–å‘½ä»¤è¡Œå·¥å…·ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼š

```bash
node -v
npm -v
```

å¦‚æœè¿”å›ç‰ˆæœ¬å·ï¼ˆå¦‚ `v18.17.0`ï¼‰ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚

------

### **ä¸‰ã€åˆ›å»ºç¬¬ä¸€ä¸ª Node.js ç¨‹åº**

æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæœ€ç®€å•çš„ Node.js ç¨‹åºï¼Œäº†è§£å¦‚ä½•ç¼–å†™å’Œè¿è¡Œ Node.js è„šæœ¬ã€‚

1. åˆ›å»ºä¸€ä¸ªåä¸º `app.js` çš„æ–‡ä»¶ã€‚
2. åœ¨æ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç ï¼š

```javascript
console.log("Hello, Node.js!");
```

1. æ‰“å¼€ç»ˆç«¯ï¼Œè¿›å…¥åˆ° `app.js` æ‰€åœ¨çš„ç›®å½•ï¼Œè¿è¡Œï¼š

```bash
node app.js
```

1. ä½ åº”è¯¥çœ‹åˆ°ç»ˆç«¯è¾“å‡ºï¼š

```
Hello, Node.js!
```

è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„ Node.js è„šæœ¬ï¼Œ`console.log` è¾“å‡ºå­—ç¬¦ä¸²åˆ°æ§åˆ¶å°ã€‚

------

### **å››ã€Node.js å†…ç½®æ¨¡å—**

Node.js æä¾›äº†è®¸å¤šå†…ç½®æ¨¡å—ï¼Œå¯ä»¥è®©æˆ‘ä»¬åœ¨æ²¡æœ‰é¢å¤–ä¾èµ–çš„æƒ…å†µä¸‹è¿›è¡Œå¸¸è§çš„ä»»åŠ¡ã€‚ä¾‹å¦‚æ–‡ä»¶æ“ä½œã€HTTP è¯·æ±‚å¤„ç†ã€æ“ä½œç³»ç»Ÿç­‰ã€‚

#### 1. ä½¿ç”¨ `http` æ¨¡å—åˆ›å»ºä¸€ä¸ªç®€å•çš„æœåŠ¡å™¨

`http` æ¨¡å—å…è®¸ä½ åˆ›å»º Web æœåŠ¡å™¨å¹¶å¤„ç† HTTP è¯·æ±‚ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ HTTP æœåŠ¡å™¨ä¾‹å­ï¼š

```javascript
const http = require('http');  // å¼•å…¥ http æ¨¡å—

// åˆ›å»ºä¸€ä¸ª HTTP æœåŠ¡å™¨
const server = http.createServer((req, res) => {
  res.writeHead(200, { 'Content-Type': 'text/plain' });
  res.end('Hello, Node.js Server!');
});

// æœåŠ¡å™¨ç›‘å¬ 3000 ç«¯å£
server.listen(3000, () => {
  console.log('Server is running at http://localhost:3000/');
});
```

- `http.createServer` åˆ›å»ºä¸€ä¸ª HTTP æœåŠ¡å™¨ã€‚
- `res.writeHead(200)` å‘é€ä¸€ä¸ª HTTP å“åº”å¤´ï¼ŒçŠ¶æ€ç ä¸º 200ï¼Œè¡¨ç¤ºè¯·æ±‚æˆåŠŸã€‚
- `res.end` ç»“æŸå“åº”å¹¶è¿”å›å†…å®¹ã€‚

ä¿å­˜ä¸º `server.js`ï¼Œç„¶ååœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼š

```bash
node server.js
```

ä½ ä¼šçœ‹åˆ°ï¼š

```
Server is running at http://localhost:3000/
```

ç°åœ¨æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® `http://localhost:3000/`ï¼Œä½ ä¼šçœ‹åˆ° `Hello, Node.js Server!`ã€‚

#### 2. ä½¿ç”¨ `fs` æ¨¡å—è¯»å–æ–‡ä»¶

`fs` æ¨¡å—æ˜¯ Node.js ç”¨æ¥å¤„ç†æ–‡ä»¶ç³»ç»Ÿæ“ä½œçš„æ¨¡å—ï¼Œä¾‹å¦‚è¯»å–æ–‡ä»¶ã€å†™å…¥æ–‡ä»¶ç­‰ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªè¯»å–æ–‡ä»¶çš„ç¤ºä¾‹ï¼š

```javascript
const fs = require('fs');

// è¯»å–æ–‡ä»¶å†…å®¹
fs.readFile('example.txt', 'utf8', (err, data) => {
  if (err) {
    console.log('Error:', err);
  } else {
    console.log(data);
  }
});
```

- `fs.readFile` ç”¨äºå¼‚æ­¥è¯»å–æ–‡ä»¶ï¼Œ`utf8` è¡¨ç¤ºè¯»å–æ—¶è½¬æ¢ä¸º UTF-8 ç¼–ç çš„å­—ç¬¦ä¸²ã€‚
- `callback` æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œ`err` è¡¨ç¤ºé”™è¯¯ï¼Œ`data` è¡¨ç¤ºæ–‡ä»¶å†…å®¹ã€‚

ç¡®ä¿åœ¨é¡¹ç›®ä¸­æœ‰ä¸€ä¸ªåä¸º `example.txt` çš„æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œç„¶åè¿è¡Œä¸Šé¢çš„ä»£ç ã€‚

------

### **äº”ã€npmï¼ˆNode Package Managerï¼‰**

`npm` æ˜¯ Node.js è‡ªå¸¦çš„åŒ…ç®¡ç†å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ å®‰è£…ã€ç®¡ç†å’Œä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ã€‚æ¯ä¸ª Node.js é¡¹ç›®é€šå¸¸éƒ½ä¼šæœ‰ä¸€ä¸ª `package.json` æ–‡ä»¶ï¼Œè®°å½•äº†é¡¹ç›®çš„å…ƒä¿¡æ¯å’Œä¾èµ–åº“ã€‚

#### åˆå§‹åŒ–ä¸€ä¸ªé¡¹ç›®å¹¶å®‰è£…åº“

1. åœ¨é¡¹ç›®ç›®å½•ä¸‹è¿è¡Œï¼š

```bash
npm init -y
```

è¿™å°†ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ `package.json` æ–‡ä»¶ã€‚

1. å®‰è£…ä¸€ä¸ªå¸¸ç”¨çš„åŒ…ï¼Œä¾‹ï¼š`express`ï¼ˆä¸€ä¸ªæµè¡Œçš„ Web æ¡†æ¶ï¼‰ï¼š

```bash
npm install express
```

1. åœ¨ä»£ç ä¸­ä½¿ç”¨ `express` åˆ›å»ºä¸€ä¸ªç®€å•çš„ Web æœåŠ¡å™¨ï¼š

```javascript
const express = require('express');
const app = express();

app.get('/', (req, res) => {
  res.send('Hello, Express!');
});

app.listen(3000, () => {
  console.log('Server running at http://localhost:3000/');
});
```

ä¿å­˜ä¸º `expressServer.js`ï¼Œç„¶åè¿è¡Œï¼š

```bash
node expressServer.js
```

è®¿é—® `http://localhost:3000/`ï¼Œä½ ä¼šçœ‹åˆ° `Hello, Express!`ã€‚

#### å®‰è£…æœ¬åœ°ä¸å…¨å±€åŒ…

- **æœ¬åœ°å®‰è£…**ï¼šåœ¨é¡¹ç›®æ–‡ä»¶å¤¹å†…å®‰è£…ï¼Œé€šå¸¸ç”¨äºé¡¹ç›®å¼€å‘ã€‚

  ```bash
  npm install <package-name>
  ```

- **å…¨å±€å®‰è£…**ï¼šå®‰è£…åˆ°å…¨å±€ç¯å¢ƒï¼Œé€‚ç”¨äºå‘½ä»¤è¡Œå·¥å…·ç­‰ã€‚

  ```bash
  npm install -g <package-name>
  ```

------

### **å…­ã€å¼‚æ­¥ç¼–ç¨‹**

Node.js çš„ I/O æ“ä½œé€šå¸¸æ˜¯å¼‚æ­¥çš„ï¼Œå¸¸è§çš„å¼‚æ­¥ç¼–ç¨‹æ–¹å¼åŒ…æ‹¬ **å›è°ƒå‡½æ•°**ã€**Promises** å’Œ **async/await**ã€‚

#### 1. å›è°ƒå‡½æ•°ï¼ˆCallbackï¼‰

å›è°ƒå‡½æ•°æ˜¯ Node.js ä¸­æœ€å¸¸è§çš„å¼‚æ­¥å¤„ç†æ–¹å¼ã€‚ä¾‹å¦‚æ–‡ä»¶è¯»å–æ“ä½œï¼š

```javascript
const fs = require('fs');

fs.readFile('example.txt', 'utf8', function(err, data) {
  if (err) {
    console.log('Error:', err);
  } else {
    console.log(data);
  }
});
```

#### 2. Promises

Promise æ˜¯ä¸€ç§æ›´åŠ ä¼˜é›…çš„å¼‚æ­¥ç¼–ç¨‹æ–¹æ³•ï¼Œå®ƒä»£è¡¨äº†ä¸€ä¸ªå¯èƒ½åœ¨å°†æ¥å®Œæˆæˆ–å¤±è´¥çš„æ“ä½œã€‚

```javascript
const fs = require('fs').promises;

fs.readFile('example.txt', 'utf8')
  .then(data => {
    console.log(data);
  })
  .catch(err => {
    console.error('Error:', err);
  });
```

#### 3. async/await

`async/await` æ˜¯åŸºäº Promises çš„è¯­æ³•ç³–ï¼Œä½¿å¼‚æ­¥ä»£ç çœ‹èµ·æ¥åƒåŒæ­¥ä»£ç ã€‚å®ƒé€šè¿‡ `async` ä¿®é¥°å‡½æ•°ï¼Œ`await` ç”¨æ¥ç­‰å¾…å¼‚æ­¥æ“ä½œå®Œæˆã€‚

```javascript
const fs = require('fs').promises;

async function readFile() {
  try {
    const data = await fs.readFile('example.txt', 'utf8');
    console.log(data);
  } catch (err) {
    console.error('Error:', err);
  }
}

readFile();
```

------

### **ä¸ƒã€è°ƒè¯•ä¸é”™è¯¯å¤„ç†**

#### è°ƒè¯•

Node.js æä¾›äº†å†…ç½®çš„è°ƒè¯•å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨ `debugger` è¯­å¥è®¾ç½®æ–­ç‚¹ï¼š

```javascript
debugger;  // åœ¨è¿™è¡Œåœä¸‹
console.log("Hello, Node.js!");
```

ç„¶åé€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨è°ƒè¯•ï¼š

```bash
node inspect app.js
```

#### é”™è¯¯å¤„ç†

åœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­ï¼Œé”™è¯¯å¤„ç†è‡³å…³é‡è¦ã€‚Node.js ä½¿ç”¨ `try-catch` å’Œå›è°ƒå‡½æ•°ä¸­çš„ `err` æ¥æ•è·å’Œå¤„ç†é”™è¯¯ã€‚

```javascript
try {
  const data = fs.readFileSync('nonexistent.txt');
} catch (err) {
  console.error('Error:', err.message);
}
```

------

### **å…«ã€ä¸‹ä¸€æ­¥å­¦ä¹ **

- **å­¦ä¹  Express.js**ï¼šæ·±å…¥å­¦ä¹  Express æ¡†æ¶ï¼Œå®ƒæ˜¯ Node.js ä¸­æœ€æµè¡Œçš„ Web æ¡†æ¶ï¼Œé€‚ç”¨äºæ„å»º RESTful API å’Œ Web åº”ç”¨ã€‚
- **è¿æ¥æ•°æ®åº“**ï¼šå­¦ä¹ å¦‚ä½•åœ¨ Node.js ä¸­è¿æ¥å’Œæ“ä½œæ•°æ®åº“ï¼ˆå¦‚ MongoDBã€MySQLï¼‰ã€‚
- **æ„å»ºå®æ—¶åº”ç”¨**ï¼šä½¿ç”¨ WebSockets æ„å»ºå®æ—¶èŠå¤©ã€æ¨é€é€šçŸ¥ç­‰åº”ç”¨ã€‚
- **éƒ¨ç½²åº”ç”¨**ï¼šäº†è§£å¦‚ä½•å°† Node.js åº”ç”¨éƒ¨ç½²åˆ°æœåŠ¡å™¨æˆ–äº‘å¹³å°ï¼ˆå¦‚ Herokuã€AWSï¼‰ã€‚

------

å¸Œæœ›è¿™ä¸ªèƒ½å¸®åŠ©ä½ æ›´æ·±å…¥åœ°ç†è§£ Node.jsã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–éœ€è¦æ›´è¯¦ç»†çš„è§£é‡Šï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ï¼å¯è”ç³» ğŸ‘›ğŸ‘›ğŸ‘› QQï¼š2331995767@qq.com ğŸ‘›ğŸ‘›ğŸ‘›
